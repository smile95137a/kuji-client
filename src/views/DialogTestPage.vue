<!-- Dialog æ¸¬è©¦é é¢ -->
<template>
  <div class="dialog-test-page">
    <div class="dialog-test-page__header">
      <h1>Dialog ç½®ä¸­æ¸¬è©¦</h1>
      <p class="subtitle">æ¸¬è©¦æ‰€æœ‰ dialog æ˜¯å¦æ­£ç¢ºé¡¯ç¤ºåœ¨ç•«é¢æ­£ä¸­å¤®</p>
    </div>

    <div class="dialog-test-page__content">
      <!-- é«˜åº¦æ’é–‹ï¼Œè£½é€ æ»¾å‹•æ¢ -->
      <div class="test-section">
        <h2>Ichiban ç³»åˆ— Dialog</h2>
        <div class="button-grid">
          <button @click="testIchibanInfo" class="test-btn">
            æ¸¬è©¦ IchibanInfoDialog
          </button>
          <button @click="testIchibanConfirm" class="test-btn">
            æ¸¬è©¦ IchibanConfirmDialog
          </button>
          <button @click="testIchibanForgotPassword" class="test-btn">
            æ¸¬è©¦ IchibanForgotPasswordDialog
          </button>
        </div>
      </div>

      <div class="test-section">
        <h2>ä¸€èˆ¬ Dialog</h2>
        <div class="button-grid">
          <button @click="testInfoDialog" class="test-btn">
            æ¸¬è©¦ InfoDialog
          </button>
          <button @click="testConfirmDialog" class="test-btn">
            æ¸¬è©¦ ConfirmDialog
          </button>
          <button @click="testDialog" class="test-btn">æ¸¬è©¦ Dialog</button>
        </div>
      </div>

      <div class="test-section">
        <h2>ç‰¹æ®Š Dialog</h2>
        <div class="button-grid">
          <button @click="testGotchaDialog" class="test-btn">
            æ¸¬è©¦ GotchaDialog
          </button>
          <button @click="testScratchCardDialog" class="test-btn">
            æ¸¬è©¦ ScratchCardDialog
          </button>
          <button @click="testKujiRevealStripDialog" class="test-btn">
            æ¸¬è©¦ KujiRevealStripDialog
          </button>
          <button @click="testObjDialog" class="test-btn">
            æ¸¬è©¦ ObjDialog
          </button>
        </div>
      </div>

      <!-- æ’é«˜é é¢ï¼Œè£½é€ æ»¾å‹•æ¢ -->
      <div class="spacer">
        <p>â¬‡ï¸ è«‹å‘ä¸‹æ»¾å‹•ï¼Œç„¶å¾Œå†æ¬¡é»æ“ŠæŒ‰éˆ•æ¸¬è©¦ dialog æ˜¯å¦ä»ç„¶ç½®ä¸­ â¬‡ï¸</p>
      </div>

      <div class="test-section">
        <h2>æ»¾å‹•å¾Œæ¸¬è©¦</h2>
        <p>
          å¦‚æœä½ çœ‹åˆ°é€™æ®µæ–‡å­—ï¼Œè¡¨ç¤ºé é¢å·²ç¶“æ»¾å‹•ã€‚<br />
          ç¾åœ¨è«‹é»æ“Šä¸Šæ–¹çš„æŒ‰éˆ•ï¼Œæ¸¬è©¦ dialog æ˜¯å¦ä»ç„¶é¡¯ç¤ºåœ¨è¦–çª—æ­£ä¸­å¤®ã€‚
        </p>
        <div class="button-grid">
          <button @click="testIchibanInfo" class="test-btn test-btn--accent">
            å†æ¬¡æ¸¬è©¦ IchibanInfoDialog
          </button>
          <button @click="testIchibanConfirm" class="test-btn test-btn--accent">
            å†æ¬¡æ¸¬è©¦ IchibanConfirmDialog
          </button>
        </div>
      </div>

      <div class="spacer">
        <p>â¬‡ï¸ ç¹¼çºŒå‘ä¸‹æ»¾å‹• â¬‡ï¸</p>
      </div>

      <div class="test-section">
        <h2>é é¢åº•éƒ¨æ¸¬è©¦</h2>
        <p>ç¾åœ¨ä½ åœ¨é é¢åº•éƒ¨ï¼Œdialog æ‡‰è©²ä»ç„¶é¡¯ç¤ºåœ¨è¦–çª—æ­£ä¸­å¤®ã€‚</p>
        <div class="button-grid">
          <button @click="testAll" class="test-btn test-btn--primary">
            ğŸ¯ æ¸¬è©¦æ‰€æœ‰ Dialog
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ichibanInfoDialog } from '@/utils/dialog/ichibanInfoDialog';
import { ichibanConfirmDialog } from '@/utils/dialog/ichibanConfirmDialog';
import { ichibanForgotPasswordDialog } from '@/utils/dialog/ichibanForgotPasswordDialog';
import { infoDialog } from '@/utils/dialog/infoDialog';
import { confirmDialog } from '@/utils/dialog/confirmDialog';
import { objDialog } from '@/utils/dialog/objDialog';
import { useOverlayStore } from '@/stores/overlay';

const overlay = useOverlayStore();

// Ichiban ç³»åˆ—
const testIchibanInfo = async () => {
  overlay.open();
  await ichibanInfoDialog({
    title: 'æ¸¬è©¦æˆåŠŸ',
    content: 'å¦‚æœä½ èƒ½çœ‹åˆ°é€™å€‹å°è©±æ¡†åœ¨ç•«é¢æ­£ä¸­å¤®ï¼Œ<br>ä¸¦ä¸”å¯ä»¥é»æ“ŠæŒ‰éˆ•ï¼Œè¡¨ç¤ºä¿®æ­£æˆåŠŸï¼âœ…',
  });
  overlay.close();
};

const testIchibanConfirm = async () => {
  overlay.open();
  const result = await ichibanConfirmDialog({
    title: 'ç¢ºèªæ¸¬è©¦',
    content:
      'è«‹ç¢ºèªä½ èƒ½çœ‹åˆ°é€™å€‹å°è©±æ¡†åœ¨ç•«é¢æ­£ä¸­å¤®ï¼Œ<br>ä¸¦ä¸”å¯ä»¥é»æ“Šã€Œç¢ºå®šã€å’Œã€Œå–æ¶ˆã€æŒ‰éˆ•ã€‚',
  });
  overlay.close();
  console.log('æ¸¬è©¦çµæœ:', result);
};

const testIchibanForgotPassword = async () => {
  overlay.open();
  const result = await ichibanForgotPasswordDialog({
    title: 'å¿˜è¨˜å¯†ç¢¼',
    content: 'è«‹è¼¸å…¥æ‚¨çš„ Email',
    placeholder: 'your@email.com',
  });
  overlay.close();
  console.log('è¼¸å…¥çš„ Email:', result);
};

// ä¸€èˆ¬ Dialog
const testInfoDialog = async () => {
  await infoDialog({
    title: 'Info Dialog æ¸¬è©¦',
    message: 'é€™æ˜¯ä¸€å€‹ç°¡å–®çš„è³‡è¨Šå°è©±æ¡†ã€‚',
  });
};

const testConfirmDialog = async () => {
  const result = await confirmDialog({
    title: 'Confirm Dialog æ¸¬è©¦',
    message: 'ä½ ç¢ºå®šè¦åŸ·è¡Œé€™å€‹æ“ä½œå—ï¼Ÿ',
  });
  console.log('Confirm çµæœ:', result);
};

const testDialog = async () => {
  await infoDialog({
    title: 'Dialog æ¸¬è©¦',
    message: 'é€™æ˜¯æ¨™æº– Dialog çµ„ä»¶çš„æ¸¬è©¦ã€‚',
  });
};

// ç‰¹æ®Š Dialog
const testGotchaDialog = async () => {
  alert('GotchaDialog éœ€è¦å®Œæ•´çš„æŠ½çæ•¸æ“šï¼Œé€™è£¡åƒ…æ¸¬è©¦çµæ§‹ã€‚è«‹åœ¨å¯¦éš›æŠ½çæµç¨‹ä¸­æ¸¬è©¦ã€‚');
};

const testScratchCardDialog = async () => {
  alert('ScratchCardDialog éœ€è¦å®Œæ•´çš„åˆ®åˆ®æ¨‚æ•¸æ“šï¼Œé€™è£¡åƒ…æ¸¬è©¦çµæ§‹ã€‚è«‹åœ¨å¯¦éš›æŠ½çæµç¨‹ä¸­æ¸¬è©¦ã€‚');
};

const testKujiRevealStripDialog = async () => {
  alert('KujiRevealStripDialog éœ€è¦å®Œæ•´çš„çå“æ•¸æ“šï¼Œé€™è£¡åƒ…æ¸¬è©¦çµæ§‹ã€‚è«‹åœ¨å¯¦éš›æŠ½çæµç¨‹ä¸­æ¸¬è©¦ã€‚');
};

const testObjDialog = async () => {
  const result = await objDialog({
    title: 'ObjDialog æ¸¬è©¦',
    data: {
      name: 'æ¸¬è©¦ç‰©ä»¶',
      age: 25,
      active: true,
    },
  });
  console.log('ObjDialog çµæœ:', result);
};

// æ¸¬è©¦æ‰€æœ‰
const testAll = async () => {
  const dialogs = [
    { name: 'IchibanInfoDialog', fn: testIchibanInfo },
    { name: 'IchibanConfirmDialog', fn: testIchibanConfirm },
    { name: 'InfoDialog', fn: testInfoDialog },
  ];

  for (const dialog of dialogs) {
    console.log(`æ¸¬è©¦ ${dialog.name}...`);
    await dialog.fn();
    await new Promise((r) => setTimeout(r, 300));
  }

  alert('âœ… æ‰€æœ‰ Dialog æ¸¬è©¦å®Œæˆï¼');
};
</script>

<style scoped lang="scss">
.dialog-test-page {
  min-height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 40px 20px;

  &__header {
    text-align: center;
    color: #fff;
    margin-bottom: 40px;

    h1 {
      font-size: 48px;
      font-weight: 900;
      margin-bottom: 12px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .subtitle {
      font-size: 18px;
      opacity: 0.9;
    }
  }

  &__content {
    max-width: 900px;
    margin: 0 auto;
  }
}

.test-section {
  background: #fff;
  border-radius: 16px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);

  h2 {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 20px;
    color: #333;
  }

  p {
    font-size: 16px;
    line-height: 1.6;
    color: #666;
    margin-bottom: 16px;
  }
}

.button-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.test-btn {
  padding: 14px 24px;
  border-radius: 12px;
  border: none;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);

  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
  }

  &:active {
    transform: translateY(0);
  }

  &--accent {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    box-shadow: 0 4px 12px rgba(245, 87, 108, 0.3);

    &:hover {
      box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
    }
  }

  &--primary {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    box-shadow: 0 4px 12px rgba(79, 172, 254, 0.3);
    font-size: 16px;
    padding: 18px 32px;

    &:hover {
      box-shadow: 0 6px 20px rgba(79, 172, 254, 0.4);
    }
  }
}

.spacer {
  height: 60vh;
  display: flex;
  align-items: center;
  justify-content: center;

  p {
    font-size: 20px;
    color: #fff;
    text-align: center;
    font-weight: 600;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }
}

/* éŸ¿æ‡‰å¼ */
@media (max-width: 768px) {
  .dialog-test-page__header h1 {
    font-size: 32px;
  }

  .test-section {
    padding: 20px;
  }

  .button-grid {
    grid-template-columns: 1fr;
  }
}
</style>

# 前台抽獎遊玩完整流程需求文件

## 1. 模組定位與核心概念

前台抽獎遊玩模組負責玩家從「進入商品 → 抽獎 → 查看結果 → 管理賞品盒 → 送出訂單」的完整體驗流程。

本模組的核心設計原則為：

- 抽獎結果 **不直接產生訂單**
- 抽獎結果會進入「賞品盒（類似購物車）」
- 玩家可自行決定哪些賞品要出貨
- 僅在玩家主動出貨時才會產生訂單
- 抽獎與訂單行為嚴格分離，避免作弊與爭議

---

## 2. 玩家進入抽獎流程

### 2.1 抽獎入口

玩家可透過以下方式進入抽獎頁面：

- 首頁商品列表
- 店家頁面商品列表
- 商品詳細頁

每個抽獎商品需明確顯示：
- 商品名稱
- 單抽價格
- 抽獎內容說明
- 剩餘抽獎數量（若有）

---

## 3. 抽獎行為流程

### 3.1 抽獎次數選擇

玩家可選擇：
- 單抽
- 多抽（一次多次抽獎）

系統需在抽獎前清楚顯示：
- 本次抽獎總金額
- 將消耗的點數 / 金額

---

### 3.2 抽獎執行

抽獎執行後：
- 系統即時產生抽獎結果
- 每一次抽獎皆視為獨立結果
- 抽獎結果不可重抽、不可回溯

---

## 4. 抽獎結果處理（核心）

### 4.1 抽獎結果去向

所有抽獎結果需：

- **直接進入玩家專屬「賞品盒」**
- 不產生訂單
- 不進入物流流程

賞品盒為每位玩家註冊後即存在的專屬容器。

---

### 4.2 抽獎完成後的玩家選項

抽獎完成後，玩家可選擇：

- 繼續抽獎
- 前往賞品盒查看抽獎結果

---

## 5. 賞品盒（類購物車）行為定義

### 5.1 賞品盒顯示內容

賞品盒需顯示以下資訊：

- 抽到的商品列表
- 每項商品所屬店家
- 商品數量
- 商品價值（顯示用）
- 抽獎取得時間

---

### 5.2 賞品盒內玩家可執行行為

玩家在賞品盒中可：

- 勾選欲出貨的商品
- 依店家分組查看商品
- 查看目前選擇出貨的總金額（顯示用）
- 查看是否可轉換為紅利（若未來開放）

玩家 **不可**：

- 修改抽獎結果
- 變更商品歸屬店家
- 合併不同玩家的賞品

---

## 6. 出貨與訂單產生流程

### 6.1 出貨行為

當玩家在賞品盒中選擇「出貨」時：

- 僅針對被選取的商品
- 依店家分別產生訂單
- 不允許跨店家合併訂單

---

### 6.2 訂單產生規則

- 訂單僅於「玩家主動出貨」時產生
- 一次出貨行為可產生多筆訂單（依店家）
- 訂單一經成立即不可逆

---

## 7. 運送與地址流程（前台）

玩家於出貨流程中需：

- 選擇運送方式（超商 / 宅配）
- 填寫或確認收件資訊
- 若已有個人資料，系統可自動帶入

訂單成立後：
- 玩家不可修改運送資訊
- 僅可查看狀態

---

## 8. 玩家訂單與狀態查詢

玩家可於前台查看：

- 訂單列表
- 每筆訂單所屬店家
- 訂單狀態
- 出貨狀態
- 運送方式與收件資訊

---

## 9. 防作弊與不可逆規則

### 9.1 抽獎層級

- 抽獎結果不可修改
- 不可重抽
- 不可刪除抽獎紀錄

---

### 9.2 訂單層級

- 訂單不可退換貨
- 訂單僅能在未出貨前由後台取消
- 玩家無取消訂單權限

---

## 10. 平台角色定位

- 平台不介入玩家與店家之間的交易與物流
- 平台僅提供：
  - 抽獎系統
  - 賞品盒管理
  - 訂單與狀態顯示

---

## 11. 整體流程摘要

1. 玩家進入商品頁
2. 選擇抽獎次數並完成抽獎
3. 抽獎結果進入賞品盒
4. 玩家於賞品盒選擇要出貨的商品
5. 填寫運送資訊
6. 系統依店家產生訂單
7. 店家後台進行出貨
8. 玩家查看訂單與物流狀態

---

## 12. 設計原則總結

- 抽獎與訂單嚴格分離
- 玩家擁有出貨決定權
- 店家擁有出貨操作權
- 狀態不可逆
- 流程清楚、責任明確

